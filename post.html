<h2>Create Post</h2>
<input type="file" accept="image/*" id="fileInput">
<div id="preview"></div>
<button id="uploadBtn">Post</button>

<script>
  document.getElementById("fileInput").addEventListener("change", function(e) {
    const file = e.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function(event) {
        document.getElementById("preview").innerHTML =
          `<img src="${event.target.result}" style="max-width:100%; border-radius:10px;">`;
        // Save temporary preview for posting
        document.getElementById("uploadBtn").dataset.image = event.target.result;
      }
      reader.readAsDataURL(file);
    }
  });

  document.getElementById("uploadBtn").addEventListener("click", function() {
    const image = this.dataset.image;
    if (!image) {
      alert("Please choose an image first!");
      return;
    }

    // Get current posts from localStorage
    let posts = JSON.parse(localStorage.getItem("posts")) || [];
    posts.unshift({ image: image, time: new Date().toLocaleString() }); // add new post at top
    localStorage.setItem("posts", JSON.stringify(posts));

    alert("âœ… Post uploaded!");
    window.location.href = "feed.html"; // Go to feed after posting
  });
          </script>
